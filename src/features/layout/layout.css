.actual-margin {
  position: fixed;
  left: 0;
  right: 0;
  background-color: antiquewhite;
  z-index: -2;
}

.max-list-height-indicator {
  position: fixed;
  right: 0;
  width: 20px;
  background-color: deeppink;
  z-index: -1;
  height: var(--max-list-height);
  top: calc(50vh - var(--max-list-height) / 2);
}

.desired-margin-indicator {
  position: fixed;
  right: 20px;
  width: 20px;
  background-color: yellowgreen;
  z-index: -1;
}

.layout-container {
  width: 100%;
  height: var(--screen-height);
  overflow: clip;
  position: relative;
}

.layout-overflow {
  width: 100%;
  position: absolute;
  /* add list margin height for bottom mask to be able to transition up from occurrence view when list view is 100vh tall */
  height: calc(var(--screen-height) + var(--screen-offset) + var(--last-list-margin-height));
  top: calc(-1 * var(--screen-offset));
}

.bottom-mask {
  background-color: rgba(81, 206, 46, 0.229);
  width: 100%;
  height: var(--last-list-margin-height);
}

.bottom-mask.list-view {
  position: sticky;
  top: calc(var(--transition-offset, 0px) + 100vh - var(--last-list-margin-height));
}

.bottom-mask.occurrence-view {
  position: absolute;
  top: calc(
    var(--margin-height)
    + var(--occurrence-row-count) * 50px
    + 50px
    + 100vh - 2 * var(--last-list-margin-height) - 100px
    + var(--transition-offset, 0px)
  );
}

.sticky-group {
  background-color: rgba(206, 46, 46, 0.229);
  width: 100%;
}

.sticky-group.list-view {
  position: sticky;
  top: calc(-1 * var(--screen-offset));
  /* have transition offset in height instead of top so mask reaches top of screen */
  height: max(
    var(--transition-offset, 0px) + var(--occurrence-row-count) * 50px + 50px,
    var(--transition-offset, 0px) + var(--margin-height) + 100px
  );
}

.sticky-group.occurrence-view {
  position: absolute;
  top: var(--transition-offset, 0px);
  height: calc(var(--margin-height) + var(--occurrence-row-count) * 50px + 50px);
}

.occurrences {
  width: 350px;
  background-image: url(placeholderImages/occurrences.png);
  background-position: bottom;
  height: calc(var(--occurrence-row-count) * 50px);
  position: absolute;
  top: calc(100% - 50px - var(--occurrence-row-count) * 50px);
  left: calc(50vw - 175px);
}

.days {
  z-index: 1;
  width: 350px;
  height: 50px;
  background-image: url(placeholderImages/days.png);
  position: absolute;
  top: calc(100% - 100px);
  left: calc(50vw - 175px);
}

.dates {
  z-index: 1;
  width: 350px;
  height: 50px;
  background-image: url(placeholderImages/dates.png);
  position: absolute;
  top: calc(100% - 50px);
  left: calc(50vw - 175px);
}

.list {
  width: 350px;
  background-image: url(placeholderImages/list.png);
  height: calc(var(--list-row-count) * 50px);
  position: absolute;
  left: calc(50vw - 175px);
}

.list.list-view {
  top: max(
    var(--transition-offset, 0px) + var(--occurrence-row-count) * 50px + 50px,
    var(--transition-offset, 0px) + var(--margin-height) + 100px
  );
  opacity: 0.8;
}

.list.occurrence-view {
  top: calc(
    var(--transition-offset, 0px)
    + var(--margin-height)
    + var(--occurrence-row-count) * 50px
    + 50px
    + var(--list-offset, 0px)
  );
  opacity: 0.2;
}